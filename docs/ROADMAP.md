# 공학용 전자계산기 개발 로드맵

## 개요
이 문서는 공학용 전자계산기 웹앱의 전체 개발 로드맵을 정의합니다.
TDD와 SOLID 원칙을 따르며, 단계별로 기능을 구현합니다.

---

## Phase 1: 개발 환경 설정 ✅ (완료)

### 1.1 프로젝트 초기화 ✅
- [x] Git 저장소 초기화
- [x] package.json 설정
- [x] .gitignore 설정
- [x] README.md 작성

### 1.2 문서화 ✅
- [x] PRD (제품 요구사항 문서) 작성
- [x] Tech Spec (기술 사양서) 작성
- [x] Deployment 가이드 작성
- [x] 프로젝트 규칙 문서 (TDD, SOLID)

### 1.3 빌드 및 배포 설정 ✅
- [x] Vite 설정
- [x] GitHub Actions 워크플로우 (CI/CD)
- [x] GitHub Pages 배포 설정
- [x] ESLint, Prettier 설정

### 1.4 테스트 환경 설정 ✅
- [x] Vitest 설정
- [x] 커버리지 설정 (80% 목표)
- [x] 테스트 예제 파일 작성

---

## Phase 2: 코어 로직 구현 (TDD) 🔄 (진행 예정)

### 2.1 계산 엔진 기초
**목표**: 기본 산술 연산 구현

#### Task 2.1.1: 기본 산술 연산
- [ ] **테스트 작성**: 덧셈, 뺄셈, 곱셈, 나눗셈 테스트
  - `tests/calculator.test.js` 생성
  - 각 연산별 정상 케이스 테스트
  - 엣지 케이스 테스트 (0으로 나누기 등)
- [ ] **구현**: Calculator 클래스 기본 구조
  - `src/scripts/calculator.js` 생성
  - Math.js 통합
  - evaluate() 메서드 구현
- [ ] **리팩토링**: SOLID 원칙 적용
  - SRP: Calculator는 평가만 담당
  - DIP: Math.js 의존성 주입

**예상 시간**: 2-3시간  
**커버리지 목표**: 100%

#### Task 2.1.2: 수식 파싱 및 우선순위
- [ ] **테스트 작성**: 연산자 우선순위 테스트
  - `2 + 3 × 4` = 14 (곱셈 우선)
  - `(2 + 3) × 4` = 20 (괄호 우선)
  - 중첩 괄호 테스트
- [ ] **구현**: 괄호 처리 로직
- [ ] **리팩토링**: 코드 최적화

**예상 시간**: 2시간  
**커버리지 목표**: 100%

#### Task 2.1.3: 오류 처리
- [ ] **테스트 작성**: 오류 케이스 테스트
  - 잘못된 수식
  - 정의되지 않은 연산
  - 오버플로우
- [ ] **구현**: 오류 처리 로직
  - try-catch 블록
  - 사용자 친화적 오류 메시지
- [ ] **리팩토링**: 오류 타입 분리

**예상 시간**: 1-2시간  
**커버리지 목표**: 100%

---

### 2.2 과학 함수 구현
**목표**: 삼각함수, 로그, 지수 함수 구현

#### Task 2.2.1: 삼각 함수 (DEG 모드)
- [ ] **테스트 작성**: sin, cos, tan 테스트 (DEG)
  - `sin(30)` = 0.5
  - `cos(60)` = 0.5
  - `tan(45)` = 1
- [ ] **구현**: 삼각 함수 + 각도 변환
  - AngleConverter 클래스 생성
  - DEG → RAD 변환 로직
- [ ] **리팩토링**: SOLID 원칙 적용
  - ISP: 각도 변환 인터페이스 분리

**예상 시간**: 2-3시간  
**커버리지 목표**: 100%

#### Task 2.2.2: 삼각 함수 (RAD 모드)
- [ ] **테스트 작성**: sin, cos, tan 테스트 (RAD)
  - `sin(π/2)` = 1
  - `cos(π)` = -1
- [ ] **구현**: RAD 모드 지원
- [ ] **리팩토링**: 모드 전환 로직 개선

**예상 시간**: 1시간  
**커버리지 목표**: 100%

#### Task 2.2.3: 로그 및 지수 함수
- [ ] **테스트 작성**: ln, log, x², x³, xʸ, √x 테스트
  - `ln(e)` = 1
  - `log(100)` = 2
  - `2²` = 4
  - `√16` = 4
- [ ] **구현**: 로그 및 지수 함수
- [ ] **리팩토링**: 함수 그룹화

**예상 시간**: 2시간  
**커버리지 목표**: 100%

#### Task 2.2.4: 2nd 모드 (역함수)
- [ ] **테스트 작성**: 역삼각함수 테스트
  - `sin⁻¹(0.5)` = 30 (DEG)
  - `cos⁻¹(0.5)` = 60 (DEG)
- [ ] **구현**: 2nd 모드 전환 로직
- [ ] **리팩토링**: 전략 패턴 적용

**예상 시간**: 2-3시간  
**커버리지 목표**: 100%

---

### 2.3 상태 관리
**목표**: 애플리케이션 상태 관리 시스템 구현

#### Task 2.3.1: StateManager 기본 구조
- [ ] **테스트 작성**: 상태 초기화 및 업데이트 테스트
  - 초기 상태 확인
  - setState() 동작 확인
  - getState() 동작 확인
- [ ] **구현**: StateManager 클래스
  - `src/scripts/state.js` 생성
  - 상태 객체 정의
  - setState/getState 메서드
- [ ] **리팩토링**: SOLID 원칙 적용
  - SRP: 상태 관리만 담당

**예상 시간**: 2시간  
**커버리지 목표**: 100%

#### Task 2.3.2: 상태 구독 메커니즘
- [ ] **테스트 작성**: 리스너 등록 및 알림 테스트
  - subscribe() 테스트
  - 상태 변경 시 리스너 호출 확인
- [ ] **구현**: Observer 패턴
  - subscribe() 메서드
  - notifyListeners() 메서드
- [ ] **리팩토링**: 메모리 누수 방지

**예상 시간**: 2시간  
**커버리지 목표**: 100%

#### Task 2.3.3: LocalStorage 연동
- [ ] **테스트 작성**: 저장/불러오기 테스트
  - saveToStorage() 테스트
  - loadFromStorage() 테스트
  - Mock localStorage 사용
- [ ] **구현**: Storage 연동
  - StorageAdapter 클래스 생성
  - 직렬화/역직렬화
- [ ] **리팩토링**: DIP 적용 (추상화에 의존)

**예상 시간**: 2시간  
**커버리지 목표**: 100%

---

### 2.4 히스토리 관리
**목표**: 계산 히스토리 관리 기능 구현

#### Task 2.4.1: HistoryManager 기본 구조
- [ ] **테스트 작성**: 히스토리 추가/조회 테스트
  - addEntry() 테스트
  - getHistory() 테스트
- [ ] **구현**: HistoryManager 클래스
  - `src/scripts/history.js` 생성
  - 히스토리 배열 관리
- [ ] **리팩토링**: SOLID 원칙 적용

**예상 시간**: 1-2시간  
**커버리지 목표**: 100%

#### Task 2.4.2: 히스토리 제한 및 삭제
- [ ] **테스트 작성**: 최대 항목 제한 테스트
  - 50개 제한 확인
  - clearHistory() 테스트
- [ ] **구현**: 제한 로직
- [ ] **리팩토링**: 설정 가능한 최대값

**예상 시간**: 1시간  
**커버리지 목표**: 100%

#### Task 2.4.3: 히스토리 영속성
- [ ] **테스트 작성**: LocalStorage 저장 테스트
- [ ] **구현**: Storage 연동
- [ ] **리팩토링**: StorageAdapter 재사용

**예상 시간**: 1시간  
**커버리지 목표**: 100%

---

### 2.5 메모리 관리
**목표**: 메모리 기능 (mc, m+, m-, mr) 구현

#### Task 2.5.1: 메모리 연산
- [ ] **테스트 작성**: 메모리 함수 테스트
  - memoryClear() 테스트
  - memoryAdd() 테스트
  - memorySubtract() 테스트
  - memoryRecall() 테스트
- [ ] **구현**: MemoryManager 클래스
  - `src/scripts/memory.js` 생성
- [ ] **리팩토링**: Calculator와 통합

**예상 시간**: 1-2시간  
**커버리지 목표**: 100%

---

### 2.6 유틸리티 함수
**목표**: 공통 유틸리티 함수 구현

#### Task 2.6.1: 숫자 포맷팅
- [ ] **테스트 작성**: 포맷팅 테스트
  - 정수 포맷
  - 소수점 포맷
  - 과학적 표기법
- [ ] **구현**: formatNumber() 함수
  - `src/scripts/utils.js` 생성
- [ ] **리팩토링**: 설정 가능한 정밀도

**예상 시간**: 1시간  
**커버리지 목표**: 100%

#### Task 2.6.2: 입력 검증
- [ ] **테스트 작성**: 검증 테스트
  - sanitizeInput() 테스트
  - XSS 방지 테스트
- [ ] **구현**: 입력 검증 함수
- [ ] **리팩토링**: 보안 강화

**예상 시간**: 1시간  
**커버리지 목표**: 100%

---

## Phase 3: UI 구현 🔄 (진행 예정)

### 3.1 HTML 구조
**목표**: 시맨틱 HTML 마크업

#### Task 3.1.1: 기본 HTML 구조
- [ ] `src/index.html` 생성
- [ ] Header 섹션 (히스토리, DEG/RAD, 설정)
- [ ] Display 섹션 (수식, 결과)
- [ ] Keypad 섹션 (과학 함수, 기본 키)
- [ ] 접근성 속성 추가 (ARIA)

**예상 시간**: 2시간

#### Task 3.1.2: 메타 태그 및 SEO
- [ ] 메타 태그 추가
- [ ] Open Graph 태그
- [ ] Favicon 추가

**예상 시간**: 30분

---

### 3.2 CSS 스타일링
**목표**: TailwindCSS 기반 스타일링

#### Task 3.2.1: TailwindCSS 설정
- [ ] `tailwind.config.js` 생성
- [ ] 커스텀 색상 정의
- [ ] 커스텀 폰트 설정 (Space Grotesk)
- [ ] `src/styles/main.css` 생성

**예상 시간**: 1시간

#### Task 3.2.2: 레이아웃 스타일
- [ ] 반응형 그리드 레이아웃
- [ ] 버튼 스타일 (숫자, 연산자, 함수)
- [ ] 디스플레이 영역 스타일
- [ ] 헤더 스타일

**예상 시간**: 3-4시간

#### Task 3.2.3: 다크/라이트 모드
- [ ] CSS 변수 정의
- [ ] 테마 전환 로직
- [ ] 시스템 설정 감지

**예상 시간**: 2시간

#### Task 3.2.4: 애니메이션 및 트랜지션
- [ ] 버튼 클릭 효과
- [ ] 결과 업데이트 애니메이션
- [ ] 테마 전환 애니메이션

**예상 시간**: 2시간

---

### 3.3 UI 컨트롤러
**목표**: DOM 조작 및 이벤트 처리

#### Task 3.3.1: Display 컨트롤러
- [ ] `src/scripts/ui/display.js` 생성
- [ ] updateExpression() 메서드
- [ ] updateResult() 메서드
- [ ] 숫자 포맷팅 통합

**예상 시간**: 2시간

#### Task 3.3.2: Keypad 컨트롤러
- [ ] `src/scripts/ui/keypad.js` 생성
- [ ] 버튼 클릭 이벤트 핸들러
- [ ] 이벤트 위임 패턴
- [ ] 햅틱 피드백 (모바일)

**예상 시간**: 2-3시간

#### Task 3.3.3: 키보드 입력 지원
- [ ] 키보드 이벤트 리스너
- [ ] 단축키 매핑
- [ ] 포커스 관리

**예상 시간**: 2시간

---

### 3.4 애플리케이션 통합
**목표**: 코어 로직과 UI 연결

#### Task 3.4.1: 메인 애플리케이션
- [ ] `src/scripts/main.js` 생성
- [ ] 의존성 주입 설정
- [ ] 초기화 로직
- [ ] 이벤트 바인딩

**예상 시간**: 2-3시간

#### Task 3.4.2: 상태 동기화
- [ ] UI ↔ State 양방향 바인딩
- [ ] 상태 변경 시 UI 업데이트
- [ ] UI 이벤트 시 상태 업데이트

**예상 시간**: 2시간

---

## Phase 4: 고급 기능 🔄 (진행 예정)

### 4.1 히스토리 UI
**목표**: 계산 히스토리 UI 구현

#### Task 4.1.1: 히스토리 패널
- [ ] 히스토리 패널 HTML/CSS
- [ ] 히스토리 목록 렌더링
- [ ] 항목 클릭 시 재사용

**예상 시간**: 3시간

#### Task 4.1.2: 히스토리 관리 UI
- [ ] 개별 항목 삭제
- [ ] 전체 히스토리 삭제
- [ ] 검색 기능 (선택 사항)

**예상 시간**: 2시간

---

### 4.2 설정 패널
**목표**: 사용자 설정 UI 구현

#### Task 4.2.1: 설정 패널 UI
- [ ] 설정 패널 HTML/CSS
- [ ] 모달 또는 사이드바 형태
- [ ] 애니메이션

**예상 시간**: 2시간

#### Task 4.2.2: 설정 옵션
- [ ] 테마 선택 (라이트/다크/자동)
- [ ] 기본 각도 모드 (DEG/RAD)
- [ ] 소수점 자릿수 설정
- [ ] 햅틱 피드백 토글

**예상 시간**: 2-3시간

#### Task 4.2.3: 설정 영속성
- [ ] LocalStorage에 설정 저장
- [ ] 앱 시작 시 설정 불러오기

**예상 시간**: 1시간

---

## Phase 5: 테스트 및 최적화 🔄 (진행 예정)

### 5.1 수동 UI 테스트
**목표**: 수동으로 UI 기능 검증

#### Task 5.1.1: UI 기능 체크리스트 작성
- [ ] 기본 계산 플로우 체크리스트
- [ ] 과학 함수 플로우 체크리스트
- [ ] 히스토리 기능 체크리스트
- [ ] 설정 변경 체크리스트
- [ ] 테마 전환 체크리스트

**예상 시간**: 1시간

#### Task 5.1.2: 수동 테스트 수행
- [ ] 모든 체크리스트 항목 테스트
- [ ] 발견된 버그 문서화
- [ ] 버그 수정 및 재테스트

**예상 시간**: 3-4시간

---

### 5.2 성능 최적화
**목표**: 로딩 시간 및 런타임 성능 개선

#### Task 5.2.1: 번들 크기 최적화
- [ ] Tree shaking 확인
- [ ] 불필요한 의존성 제거
- [ ] Code splitting

**예상 시간**: 2시간

#### Task 5.2.2: 런타임 최적화
- [ ] 이벤트 디바운싱
- [ ] 메모이제이션
- [ ] Virtual DOM 개념 적용

**예상 시간**: 2-3시간

#### Task 5.2.3: 성능 측정
- [ ] Lighthouse 점수 측정
- [ ] Performance API 활용
- [ ] 병목 지점 파악 및 개선

**예상 시간**: 2시간

---

### 5.3 브라우저 호환성 테스트
**목표**: 다양한 브라우저에서 동작 확인

#### Task 5.3.1: 크로스 브라우저 테스트
- [ ] Chrome 테스트
- [ ] Firefox 테스트
- [ ] Safari 테스트
- [ ] Edge 테스트
- [ ] 모바일 브라우저 테스트

**예상 시간**: 2-3시간

#### Task 5.3.2: 폴리필 추가
- [ ] 필요한 폴리필 파악
- [ ] 폴리필 추가 및 테스트

**예상 시간**: 1시간

---

### 5.4 접근성 개선
**목표**: WCAG 2.1 AA 기준 충족

#### Task 5.4.1: 접근성 감사
- [ ] axe DevTools 사용
- [ ] ARIA 속성 확인
- [ ] 키보드 네비게이션 테스트

**예상 시간**: 2시간

#### Task 5.4.2: 접근성 개선
- [ ] 색상 대비 개선
- [ ] 포커스 표시 개선
- [ ] 스크린 리더 지원 강화

**예상 시간**: 2-3시간

---

## Phase 6: 배포 및 문서화 🔄 (진행 예정)

### 6.1 프로덕션 빌드
**목표**: 프로덕션 배포 준비

#### Task 6.1.1: 빌드 최적화
- [ ] 프로덕션 빌드 실행
- [ ] 빌드 결과 확인
- [ ] 에러 수정

**예상 시간**: 1시간

#### Task 6.1.2: 환경 변수 설정
- [ ] 프로덕션 환경 변수
- [ ] GitHub Secrets 설정

**예상 시간**: 30분

---

### 6.2 GitHub Pages 배포
**목표**: 자동 배포 확인

#### Task 6.2.1: 첫 배포
- [ ] main 브랜치에 푸시
- [ ] GitHub Actions 워크플로우 확인
- [ ] 배포 URL 접속 테스트

**예상 시간**: 1시간

#### Task 6.2.2: 배포 검증
- [ ] 모든 기능 동작 확인
- [ ] 성능 측정
- [ ] 버그 수정

**예상 시간**: 2시간

---

### 6.3 사용자 문서 작성
**목표**: 사용자 가이드 작성

#### Task 6.3.1: 사용자 가이드
- [ ] `docs/USER_GUIDE.md` 작성
- [ ] 기능 설명
- [ ] 스크린샷 추가

**예상 시간**: 2시간

#### Task 6.3.2: 개발자 문서 업데이트
- [ ] API 문서 작성
- [ ] 아키텍처 다이어그램
- [ ] 기여 가이드

**예상 시간**: 2-3시간

---

## Phase 7: 선택적 기능 (Optional) 💡

### 7.1 PWA 지원
- [ ] Service Worker 추가
- [ ] 오프라인 지원
- [ ] 홈 화면 추가 기능
- [ ] Web App Manifest

**예상 시간**: 4-5시간

### 7.2 추가 기능
- [ ] 계산 기록 내보내기 (CSV, JSON)
- [ ] 수식 공유 기능
- [ ] 단위 변환기
- [ ] 그래프 그리기 (선택 사항)

**예상 시간**: 각 기능당 3-5시간

---

## 전체 일정 예상

| Phase | 예상 시간 | 우선순위 |
|-------|----------|---------|
| Phase 1: 환경 설정 | ✅ 완료 | 높음 |
| Phase 2: 코어 로직 | 30-40시간 | 높음 |
| Phase 3: UI 구현 | 20-25시간 | 높음 |
| Phase 4: 고급 기능 | 10-15시간 | 중간 |
| Phase 5: 테스트/최적화 | 10-15시간 | 높음 |
| Phase 6: 배포/문서화 | 8-10시간 | 높음 |
| Phase 7: 선택적 기능 | 10-20시간 | 낮음 |

**총 예상 시간**: 88-125시간 (선택적 기능 제외 시 78-105시간)

---

## 다음 단계

### 즉시 시작 가능한 작업
1. **Task 2.1.1**: 기본 산술 연산 구현 (TDD)
   - `tests/calculator.test.js` 작성
   - `src/scripts/calculator.js` 구현

### 권장 개발 순서
1. Phase 2.1 → 2.2 → 2.3 → 2.4 → 2.5 → 2.6 (코어 로직 완성)
2. Phase 3.1 → 3.2 → 3.3 → 3.4 (UI 구현)
3. Phase 4.1 → 4.2 (고급 기능)
4. Phase 5 (테스트 및 최적화)
5. Phase 6 (배포)

---

**작성일**: 2025-12-23  
**버전**: 1.0  
**상태**: 진행 중
