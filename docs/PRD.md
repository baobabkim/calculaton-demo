# Product Requirements Document (PRD)
# 공학용 전자계산기 웹앱

## 1. 개요 (Overview)

### 1.1 제품 비전
현대적이고 직관적인 UI/UX를 갖춘 공학용 전자계산기 웹 애플리케이션을 개발하여, 학생, 엔지니어, 연구원 등이 복잡한 수학 및 과학 계산을 쉽고 빠르게 수행할 수 있도록 지원합니다.

### 1.2 목표
- 모바일 우선(Mobile-First) 반응형 웹 애플리케이션 제공
- 기본 산술 연산 및 고급 과학 함수 지원
- 다크/라이트 모드를 통한 사용자 경험 최적화
- 직관적이고 현대적인 인터페이스 제공
- 계산 히스토리 관리 기능

### 1.3 타겟 사용자
- 대학생 및 대학원생
- 엔지니어 및 연구원
- 수학/과학 교육자
- 일반 사용자 (복잡한 계산이 필요한 경우)

## 2. 디자인 참고 자료

![Calculator Design](file:///C:/Users/USER/.gemini/antigravity/brain/04cf3a93-110a-4a52-9e51-d1072e646f01/calculator_design.png)

## 3. 핵심 기능 요구사항 (Core Features)

### 3.1 기본 계산 기능
#### 3.1.1 산술 연산
- **필수 연산자**: 덧셈(+), 뺄셈(-), 곱셈(×), 나눗셈(÷)
- **괄호 지원**: 복잡한 수식의 우선순위 처리를 위한 괄호 입력
- **소수점 처리**: 정확한 소수점 계산
- **연속 계산**: 이전 결과를 활용한 연속 계산 지원

#### 3.1.2 입력 및 편집
- **숫자 입력**: 0-9 숫자 키패드
- **백스페이스**: 마지막 입력 문자 삭제
- **전체 삭제(AC)**: 모든 입력 및 결과 초기화
- **실시간 수식 표시**: 입력 중인 수식을 상단에 표시

### 3.2 과학 계산 기능
#### 3.2.1 삼각 함수
- **기본 삼각함수**: sin, cos, tan
- **역삼각함수**: sin⁻¹, cos⁻¹, tan⁻¹ (2nd 모드)
- **각도 모드**: DEG (도) / RAD (라디안) 전환

#### 3.2.2 지수 및 로그 함수
- **거듭제곱**: x², x³, xʸ
- **제곱근**: √x
- **자연로그**: ln (밑이 e인 로그)
- **상용로그**: log (밑이 10인 로그)
- **지수 상수**: e (오일러 수)

#### 3.2.3 기타 수학 함수
- **역수**: 1/x
- **메모리 기능**: mc (메모리 클리어), m+ (메모리 추가), m- (메모리 빼기), mr (메모리 불러오기)
- **2nd 모드**: 버튼 기능 전환 (역함수 등)

### 3.3 사용자 인터페이스 기능
#### 3.3.1 디스플레이 영역
- **입력 수식 표시**: 현재 입력 중인 수식을 상단에 표시 (작은 글씨, 회색)
- **결과 표시**: 계산 결과를 크고 굵은 글씨로 표시 (6xl 크기)
- **실시간 계산**: 수식 입력 시 실시간으로 결과 미리보기 (선택 사항)

#### 3.3.2 테마 전환
- **다크 모드**: 어두운 배경 (#101622) + 밝은 텍스트
- **라이트 모드**: 밝은 배경 (#f6f6f8) + 어두운 텍스트
- **자동 전환**: 시스템 설정에 따른 자동 테마 적용 (선택 사항)

#### 3.3.3 각도 모드 전환
- **DEG/RAD 토글**: 헤더 중앙에 위치한 토글 버튼
- **현재 모드 표시**: 선택된 모드를 하이라이트로 표시
- **삼각함수 계산**: 선택된 모드에 따라 계산 수행

#### 3.3.4 히스토리 기능
- **계산 기록 저장**: 이전 계산 내역 저장
- **히스토리 보기**: 헤더의 히스토리 아이콘 클릭 시 기록 표시
- **기록 재사용**: 이전 계산 결과 클릭 시 재사용

#### 3.3.5 설정 기능
- **테마 설정**: 다크/라이트 모드 수동 전환
- **각도 단위 기본값**: DEG/RAD 기본 설정
- **소수점 자릿수**: 결과 표시 정밀도 설정 (선택 사항)
- **진동 피드백**: 버튼 클릭 시 햅틱 피드백 (모바일, 선택 사항)

## 4. 기술 요구사항 (Technical Requirements)

### 4.1 프론트엔드 기술 스택
- **HTML5**: 시맨틱 마크업
- **CSS3**: 스타일링 및 애니메이션
  - **TailwindCSS**: 유틸리티 우선 CSS 프레임워크
  - **커스텀 색상**: Primary (#135bec), Background-light (#f6f6f8), Background-dark (#101622)
- **JavaScript (ES6+)**: 계산 로직 및 인터랙션
  - 바닐라 JavaScript 또는 React/Vue 등 프레임워크 선택 가능

### 4.2 폰트 및 아이콘
- **폰트**: Space Grotesk (Google Fonts)
  - Weights: 300, 400, 500, 600, 700
- **아이콘**: Material Symbols Outlined
  - history, settings, backspace 아이콘 사용

### 4.3 디자인 시스템
#### 4.3.1 색상 팔레트
```css
Primary: #135bec
Background-light: #f6f6f8
Background-dark: #101622
Surface-dark: #1c222e
Surface-light: #ffffff
```

#### 4.3.2 버튼 스타일
- **숫자 버튼**: 
  - 라이트: bg-gray-50, text-gray-900
  - 다크: bg-[#1E232F], text-white
  - 높이: 64px (h-16)
  - 둥근 모서리: rounded-xl
- **연산자 버튼**: 
  - bg-primary/10 (라이트), bg-primary/20 (다크)
  - text-primary
- **과학 함수 버튼**: 
  - 높이: 40px (h-10)
  - bg-background-light (라이트), bg-surface-dark (다크)
- **AC 버튼**: text-red-500
- **= 버튼**: bg-primary, text-white, 그림자 효과

#### 4.3.3 인터랙션 효과
- **호버 효과**: 배경색 변경 (transition-colors)
- **클릭 효과**: scale(0.95), opacity 0.8
- **탭 하이라이트 제거**: -webkit-tap-highlight-color: transparent

### 4.4 반응형 디자인
- **모바일 우선**: 기본 디자인은 모바일 화면 기준
- **최소 높이**: max(884px, 100dvh)
- **안전 영역**: iOS Safe Area 지원 (pb-safe)
- **드래그 핸들**: 키패드 상단에 드래그 핸들 표시

### 4.5 계산 엔진
- **정확도**: 부동소수점 오차 최소화
- **수식 파싱**: 연산자 우선순위 및 괄호 처리
- **오류 처리**: 0으로 나누기, 정의되지 않은 연산 등 예외 처리
- **라이브러리 고려**: Math.js 또는 자체 구현

### 4.6 데이터 저장
- **로컬 스토리지**: 계산 히스토리, 설정 값 저장
- **세션 유지**: 페이지 새로고침 시에도 마지막 상태 유지

### 4.7 성능 요구사항
- **초기 로딩 시간**: 2초 이내
- **계산 응답 시간**: 100ms 이내
- **부드러운 애니메이션**: 60fps 유지

### 4.8 브라우저 호환성
- **모던 브라우저**: Chrome, Firefox, Safari, Edge (최신 2개 버전)
- **모바일 브라우저**: iOS Safari, Chrome Mobile
- **Progressive Web App (PWA)**: 오프라인 지원 및 홈 화면 추가 (선택 사항)

## 5. 사용자 경험 (User Experience)

### 5.1 사용 시나리오
#### 시나리오 1: 기본 산술 계산
1. 사용자가 "12 + 35 × sin(45)" 입력
2. 각 입력마다 상단에 수식 표시
3. "=" 버튼 클릭
4. 결과 "36.74" 표시

#### 시나리오 2: 각도 모드 전환
1. 사용자가 DEG/RAD 토글 클릭
2. 모드가 RAD로 전환
3. sin(45) 계산 시 라디안 값으로 계산

#### 시나리오 3: 히스토리 조회
1. 사용자가 히스토리 아이콘 클릭
2. 이전 계산 내역 목록 표시
3. 특정 계산 클릭 시 해당 수식 재사용

### 5.2 접근성 (Accessibility)
- **키보드 네비게이션**: Tab 키로 버튼 간 이동
- **ARIA 레이블**: 스크린 리더 지원
- **충분한 대비**: WCAG 2.1 AA 기준 충족
- **포커스 표시**: 키보드 포커스 시 명확한 아웃라인

### 5.3 에러 처리
- **입력 오류**: 잘못된 수식 입력 시 오류 메시지 표시
- **계산 오류**: 정의되지 않은 결과 (예: √-1) 시 "Error" 표시
- **오버플로우**: 너무 큰 숫자 입력 시 과학적 표기법 사용

## 6. 비기능 요구사항 (Non-Functional Requirements)

### 6.1 보안
- **XSS 방지**: 사용자 입력 검증 및 이스케이프
- **HTTPS**: 프로덕션 환경에서 HTTPS 사용

### 6.2 유지보수성
- **모듈화**: 계산 로직, UI 컴포넌트 분리
- **코드 품질**: ESLint, Prettier 사용
- **문서화**: 주요 함수 및 컴포넌트 주석

### 6.3 확장성
- **플러그인 아키텍처**: 새로운 함수 추가 용이
- **테마 시스템**: 새로운 테마 추가 가능
- **다국어 지원**: i18n 구조 (향후 확장)

## 7. 개발 단계 (Development Phases)

### Phase 1: MVP (Minimum Viable Product)
- [x] 기본 UI 레이아웃 구현
- [ ] 기본 산술 연산 (+, -, ×, ÷)
- [ ] 숫자 입력 및 디스플레이
- [ ] AC, 백스페이스 기능
- [ ] 다크/라이트 모드 전환

### Phase 2: 과학 계산 기능
- [ ] 삼각 함수 (sin, cos, tan)
- [ ] 지수 및 로그 함수
- [ ] DEG/RAD 모드 전환
- [ ] 괄호 및 우선순위 처리
- [ ] 2nd 모드 구현

### Phase 3: 고급 기능
- [ ] 계산 히스토리
- [ ] 메모리 기능 (mc, m+, m-, mr)
- [ ] 설정 패널
- [ ] 로컬 스토리지 연동

### Phase 4: 최적화 및 배포
- [ ] 성능 최적화
- [ ] 브라우저 호환성 테스트
- [ ] PWA 구현 (선택 사항)
- [ ] 배포 및 호스팅

## 8. 성공 지표 (Success Metrics)

### 8.1 기술적 지표
- 초기 로딩 시간 < 2초
- 계산 응답 시간 < 100ms
- Lighthouse 성능 점수 > 90

### 8.2 사용자 지표
- 사용자 만족도 (설문조사)
- 일일 활성 사용자 (DAU)
- 평균 세션 시간

## 9. 제약사항 및 가정 (Constraints & Assumptions)

### 9.1 제약사항
- 웹 브라우저 환경에서만 동작
- 인터넷 연결 필요 (CDN 사용 시)
- 모바일 네이티브 기능 제한 (PWA 제외)

### 9.2 가정
- 사용자는 기본적인 수학 지식 보유
- 모던 브라우저 사용
- JavaScript 활성화

## 10. 참고 자료 (References)

### 10.1 디자인 파일
- `design_files/code.html`: TailwindCSS 기반 HTML 구현
- `design_files/screen.png`: UI 디자인 스크린샷

### 10.2 기술 문서
- [TailwindCSS Documentation](https://tailwindcss.com/docs)
- [Material Symbols](https://fonts.google.com/icons)
- [Space Grotesk Font](https://fonts.google.com/specimen/Space+Grotesk)
- [Math.js Library](https://mathjs.org/)

## 11. 부록 (Appendix)

### 11.1 버튼 레이아웃
```
과학 함수 영역 (4x4 그리드):
mc   m+   m-   mr
2nd  x²   x³   xʸ
1/x  √x   ln   log
sin  cos  tan  e

기본 계산 영역 (4x5 그리드):
AC   (    )    ÷
7    8    9    ×
4    5    6    -
1    2    3    +
0    .    ⌫    =
```

### 11.2 키보드 단축키 (향후 구현)
- 숫자 키: 0-9
- 연산자: +, -, *, /
- Enter: =
- Backspace: 삭제
- Escape: AC
- ( ): 괄호

---

**문서 버전**: 1.0  
**작성일**: 2025-12-23  
**작성자**: AI Assistant  
**승인 상태**: 검토 대기
